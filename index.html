<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T·∫≠p vƒÉn c√∫ng gia ti√™n - C·∫©m nang t√¢m linh truy·ªÅn th·ªëng</title>
    <meta name="description" content="T·∫≠p vƒÉn c√∫ng gia ti√™n - B·ªô s∆∞u t·∫≠p ƒë·∫ßy ƒë·ªß c√°c b√†i vƒÉn kh·∫•n, l·ªùi c√∫ng, nghi th·ª©c truy·ªÅn th·ªëng ƒë·ªÉ th·ªù c√∫ng t·ªï ti√™n m·ªôt c√°ch trang tr·ªçng v√† ƒë√∫ng ƒë·∫Øn.">
    <meta name="keywords" content="t·∫≠p vƒÉn c√∫ng gia ti√™n, vƒÉn kh·∫•n t·ªï ti√™n, l·ªùi c√∫ng truy·ªÅn th·ªëng, nghi th·ª©c th·ªù c√∫ng, t√¢m linh">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.1/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Custom Styles */
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #fffefb;
            color: #333;
        }
        .bg-gradient-header {
             background: linear-gradient(135deg, #fef3c7 0%, #fbbf24 100%);
        }
        .bg-gradient-section {
             background: linear-gradient(135deg, #fffefb 0%, #fef3c7 100%);
        }
        .book-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .book-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }
        .btn-primary {
            background-color: #b45309;
            color: white;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .btn-primary:hover {
            background-color: #92400e;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        .btn-secondary {
            background-color: #ffffff;
            color: #b45309;
            border: 1px solid #b45309;
            transition: all 0.3s ease;
        }
        .btn-secondary:hover {
            background-color: #fef3c7;
            transform: translateY(-2px);
        }
        .feature-icon { color: #b45309; }
        .combo-price-banner { background: linear-gradient(90deg, #b45309 0%, #f59e0b 100%); }
        select {
            appearance: none;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 0.5rem center;
            background-repeat: no-repeat;
            background-size: 1.5em 1.5em;
            padding-right: 2.5rem;
        }
        .success-animation { animation: fadeInScale 0.5s ease-in-out; }
        @keyframes fadeInScale {
            0% { opacity: 0; transform: scale(0.9); }
            100% { opacity: 1; transform: scale(1); }
        }
        .detail-slider-image { max-height: 350px; object-fit: contain; border-radius: 0.5rem; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        .detail-content { display: none; }
        .detail-content.active { display: block; animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .detail-nav-button { background-color: rgba(180, 83, 9, 0.8); color: white; border: none; border-radius: 50%; width: 40px; height: 40px; font-size: 1.2rem; cursor: pointer; transition: background-color 0.3s ease; position: absolute; top: 50%; transform: translateY(-50%); z-index: 10; }
        .detail-nav-button:hover { background-color: rgba(146, 64, 14, 1); }
        .detail-prev { left: 10px; }
        .detail-next { right: 10px; }
        @media (max-width: 768px) {
            .detail-slider-container { flex-direction: column; }
            .detail-slider-image-wrapper { margin-bottom: 1rem; width: 100%; }
            .detail-slider-content-wrapper { width: 100%; }
            .detail-slider-image { max-height: 250px; }
        }
        .text-custom-red { color: #dc2626; }
        .bg-custom-red { background-color: #dc2626; }

        /* Countdown Timer Styles */
        .countdown-timer span {
            background-color: rgba(180, 83, 9, 0.1);
            color: #92400e;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-weight: 600;
            margin: 0 0.15rem;
        }

        /* Recent Order Popup Styles */
        #recent-order-popup {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background-color: rgba(255, 255, 255, 0.95);
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            display: none;
            transition: transform 0.5s ease-out, opacity 0.5s ease-out;
            transform: translateX(-150%);
            opacity: 0;
            max-width: 300px;
        }
        #recent-order-popup.show {
            transform: translateX(0);
            opacity: 1;
        }
        #recent-order-popup p {
            margin: 0;
            font-size: 0.9rem;
            line-height: 1.4;
        }
        #recent-order-popup .customer-name {
            font-weight: 600;
            color: #b45309;
        }
         #recent-order-popup .time-ago {
            font-size: 0.75rem;
            color: #666;
            margin-top: 4px;
            display: block;
        }
         #recent-order-popup .close-btn {
            position: absolute;
            top: 5px;
            right: 8px;
            background: none;
            border: none;
            font-size: 1.2rem;
            color: #aaa;
            cursor: pointer;
            padding: 0;
            line-height: 1;
         }
         #recent-order-popup .close-btn:hover {
            color: #333;
         }

        /* Testimonial Image Styles */
        .testimonial-img {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid #b45309;
            margin-right: 1rem;
        }

        .traditional-pattern {
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23fbbf24' fill-opacity='0.1'%3E%3Cpath d='M30 30c0-11.046-8.954-20-20-20s-20 8.954-20 20 8.954 20 20 20 20-8.954 20-20zM10 10c0-11.046 8.954-20 20-20s20 8.954 20 20-8.954 20-20 20-20-8.954-20-20z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

    </style>
</head>
<body class="bg-white">
    <header class="bg-gradient-header py-10 md:py-16 px-4 traditional-pattern">
        <div class="container mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
            <div class="text-center md:text-left">
                 <h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold mb-4 text-amber-900">T·∫¨P VƒÇN C√öNG GIA TI√äN</h1>
                 <h2 class="text-xl sm:text-2xl lg:text-3xl font-semibold mb-6 text-amber-800">C·∫©m Nang T√¢m Linh Truy·ªÅn Th·ªëng</h2>
                 <p class="text-base md:text-lg text-gray-700 mb-6">B·ªô s∆∞u t·∫≠p ƒë·∫ßy ƒë·ªß c√°c b√†i vƒÉn kh·∫•n, l·ªùi c√∫ng, nghi th·ª©c truy·ªÅn th·ªëng ƒë·ªÉ th·ªù c√∫ng t·ªï ti√™n m·ªôt c√°ch trang tr·ªçng v√† ƒë√∫ng ƒë·∫Øn.</p>
                 <div class="mb-6 text-center md:text-left">
                     <p class="text-lg font-semibold text-custom-red mb-2">üî• ∆Øu ƒë√£i ƒë·∫∑c bi·ªát k·∫øt th√∫c sau:</p>
                     <div id="countdown-timer" class="countdown-timer text-xl md:text-2xl">
                         <span>00</span>:<span>00</span>:<span>00</span>:<span>00</span>
                     </div>
                 </div>
                 <div class="flex justify-center md:justify-start space-x-4">
                     <a href="#order-now" class="btn-primary text-base md:text-lg font-bold py-3 px-6 md:px-8 rounded-full">ƒê·∫∂T MUA NGAY</a>
                     <a href="#explore-books" class="btn-secondary text-base md:text-lg font-bold py-3 px-6 md:px-8 rounded-full">XEM CHI TI·∫æT</a>
                 </div>
            </div>
            <div class="relative text-center">
                 <img src="https://cdn1.fahasa.com/media/flashmagazine/images/page_images/tap_van_cung_gia_tien_van_khan_tai_nha/2023_10_30_15_17_33_1-390x510.jpg" alt="T·∫≠p vƒÉn c√∫ng gia ti√™n" class="rounded-lg shadow-xl mx-auto w-full max-w-md lg:max-w-lg">
                <div class="absolute top-4 right-4 md:-top-5 md:-right-5 bg-custom-red text-white font-bold py-2 px-4 rounded-full transform rotate-12 shadow-lg animate-pulse">
                    <p class="text-sm md:text-base">GI·∫¢M S·ªêC!</p>
                    <p class="text-xs md:text-sm">Ch·ªâ 199K + FREESHIP</p>
                </div>
            </div>
        </div>
    </header>

    <section class="py-16 px-4 bg-gradient-section">
        <div class="container mx-auto">
            <h2 class="text-3xl font-bold text-center mb-12 text-amber-900">T·∫†I SAO N√äN S·ªû H·ªÆU CU·ªêN S√ÅCH N√ÄY?</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="bg-white p-6 rounded-lg shadow-md text-center transition duration-300 hover:shadow-xl"> 
                    <div class="text-5xl feature-icon mb-4 inline-block"> <i class="fas fa-scroll"></i> </div> 
                    <h3 class="text-xl font-bold mb-3 text-amber-800">VƒÉn Kh·∫•n Truy·ªÅn Th·ªëng</h3> 
                    <p class="text-gray-700">B·ªô s∆∞u t·∫≠p ƒë·∫ßy ƒë·ªß c√°c b√†i vƒÉn kh·∫•n c·ªï truy·ªÅn ƒë∆∞·ª£c truy·ªÅn ƒë·ªùi t·ª´ c√°c th·∫ø h·ªá t·ªï ti√™n, chu·∫©n x√°c v√† trang tr·ªçng.</p> 
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md text-center transition duration-300 hover:shadow-xl"> 
                    <div class="text-5xl feature-icon mb-4 inline-block"> <i class="fas fa-hands-praying"></i> </div> 
                    <h3 class="text-xl font-bold mb-3 text-amber-800">Nghi Th·ª©c ƒê√∫ng ƒê·∫Øn</h3> 
                    <p class="text-gray-700">H∆∞·ªõng d·∫´n chi ti·∫øt c√°c nghi th·ª©c th·ªù c√∫ng, c√°ch b√†y bi·ªán l·ªÖ v·∫≠t v√† th·ªùi ƒëi·ªÉm th√≠ch h·ª£p cho t·ª´ng d·ªãp l·ªÖ.</p> 
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md text-center transition duration-300 hover:shadow-xl"> 
                    <div class="text-5xl feature-icon mb-4 inline-block"> <i class="fas fa-home"></i> </div> 
                    <h3 class="text-xl font-bold mb-3 text-amber-800">Th·ªù C√∫ng Gia ƒê√¨nh</h3> 
                    <p class="text-gray-700">Ph√π h·ª£p cho m·ªçi gia ƒë√¨nh Vi·ªát Nam mu·ªën duy tr√¨ truy·ªÅn th·ªëng th·ªù c√∫ng t·ªï ti√™n m·ªôt c√°ch trang nghi√™m v√† √Ω nghƒ©a.</p> 
                </div>
            </div>
        </div>
    </section>

    <section id="explore-books" class="py-16 px-4 bg-white">
        <div class="container mx-auto">
            <h2 class="text-3xl font-bold text-center mb-12 text-amber-900">N·ªòI DUNG CU·ªêN S√ÅCH</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-10">
                <div class="book-card bg-gray-50 p-6 rounded-lg shadow-lg flex flex-col"> 
                    <img src="https://cdn1.fahasa.com/media/flashmagazine/images/page_images/tap_van_cung_gia_tien_van_khan_tai_nha/2023_10_30_15_17_33_1-390x510.jpg" alt="T·∫≠p vƒÉn c√∫ng gia ti√™n" class="rounded-md shadow-md mx-auto mb-4 w-full max-w-[250px]"> 
                    <h3 class="text-xl font-bold mb-2 text-amber-800 text-center">T·∫≠p VƒÉn C√∫ng Gia Ti√™n</h3> 
                    <div class="text-center mb-3"> 
                        <span class="text-lg line-through text-gray-500 mr-2">299.000ƒë</span> 
                        <span class="text-2xl font-bold text-custom-red">199.000ƒë</span> 
                    </div> 
                    <p class="text-gray-700 mb-4 text-sm flex-grow">B·ªô s∆∞u t·∫≠p ho√†n ch·ªânh c√°c b√†i vƒÉn kh·∫•n, l·ªùi c√∫ng truy·ªÅn th·ªëng cho m·ªçi d·ªãp l·ªÖ t·∫øt, gi·ªó ch·∫°p, c∆∞·ªõi xin, nh·∫≠p tr·∫°ch...</p> 
                    <div class="mt-auto flex flex-col sm:flex-row justify-center gap-3"> 
                        <a href="#book-details" class="btn-secondary text-center py-2 px-4 rounded-full text-sm font-medium">Xem Chi Ti·∫øt</a> 
                        <a href="#order-now" class="btn-primary text-center py-2 px-4 rounded-full text-sm font-medium">ƒê·∫∑t H√†ng Ngay</a> 
                    </div> 
                </div>
                
                <div class="bg-amber-50 p-6 rounded-lg">
                    <h3 class="text-xl font-bold mb-4 text-amber-900">‚ú® ƒê·∫∑c ƒëi·ªÉm n·ªïi b·∫≠t:</h3>
                    <ul class="space-y-3 text-gray-700">
                        <li class="flex items-start"><i class="fas fa-check-circle text-amber-600 mt-1 mr-3"></i><span>H∆°n 200 b√†i vƒÉn kh·∫•n cho m·ªçi d·ªãp l·ªÖ</span></li>
                        <li class="flex items-start"><i class="fas fa-check-circle text-amber-600 mt-1 mr-3"></i><span>H∆∞·ªõng d·∫´n nghi th·ª©c b√†y bi·ªán l·ªÖ v·∫≠t</span></li>
                        <li class="flex items-start"><i class="fas fa-check-circle text-amber-600 mt-1 mr-3"></i><span>L·ªãch √¢m - c√°ch ch·ªçn ng√†y t·ªët</span></li>
                        <li class="flex items-start"><i class="fas fa-check-circle text-amber-600 mt-1 mr-3"></i><span>VƒÉn kh·∫•n cho t·ª´ng v√πng mi·ªÅn</span></li>
                        <li class="flex items-start"><i class="fas fa-check-circle text-amber-600 mt-1 mr-3"></i><span>S√°ch in ƒë·∫πp, b√¨a c·ª©ng, gi·∫•y cao c·∫•p</span></li>
                    </ul>
                    <div class="mt-6 p-4 bg-white rounded-lg border-l-4 border-amber-500">
                        <h4 class="font-semibold text-amber-900 mb-2">üéÅ T·∫∑ng k√®m:</h4>
                        <p class="text-sm text-gray-700">L·ªãch √¢m 2024 + B·∫£ng ch·ªçn ng√†y t·ªët + H∆∞·ªõng d·∫´n b·ªë tr√≠ b√†n th·ªù</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="py-16 px-4 bg-gradient-section">
        <div class="container mx-auto">
            <div id="book-details" class="bg-white p-6 md:p-8 rounded-xl shadow-lg scroll-mt-20"> 
                <h2 class="text-2xl md:text-3xl font-bold mb-8 text-amber-900 text-center">M·ª§C L·ª§C CHI TI·∫æT</h2> 
                <div class="flex flex-col md:flex-row items-center gap-6 md:gap-10 detail-slider-container"> 
                    <div class="w-full md:w-1/2 relative detail-slider-image-wrapper"> 
                        <img id="book-image" src="https://cdn1.fahasa.com/media/flashmagazine/images/page_images/tap_van_cung_gia_tien_van_khan_tai_nha/2023_10_30_15_17_33_6-390x510.jpg" alt="Chi ti·∫øt t·∫≠p vƒÉn c√∫ng" class="detail-slider-image w-full"> 
                        <button class="detail-nav-button detail-prev" onclick="changeDetailSlide('book', -1)"><i class="fas fa-chevron-left"></i></button> 
                        <button class="detail-nav-button detail-next" onclick="changeDetailSlide('book', 1)"><i class="fas fa-chevron-right"></i></button> 
                    </div> 
                    <div class="w-full md:w-1/2 detail-slider-content-wrapper"> 
                        <div id="book-content-0" class="detail-content active"> 
                            <h4 class="text-xl font-semibold mb-3 text-amber-800">Ph·∫ßn I: VƒÉn Kh·∫•n Th·ªù T·ªï Ti√™n</h4> 
                            <p class="text-gray-700 mb-2">C√°c b√†i vƒÉn kh·∫•n d√†nh cho vi·ªác th·ªù c√∫ng t·ªï ti√™n trong gia ƒë√¨nh, t·ª´ nghi th·ª©c h√†ng ng√†y ƒë·∫øn c√°c d·ªãp ƒë·∫∑c bi·ªát.</p> 
                            <ul class="list-disc list-inside text-gray-600 space-y-1 text-sm"> 
                                <li>VƒÉn kh·∫•n c√∫ng s√°ng t·ªëi h√†ng ng√†y</li> 
                                <li>VƒÉn kh·∫•n ng√†y m·ªìng 1, 15 √¢m l·ªãch</li> 
                                <li>VƒÉn kh·∫•n ng√†y gi·ªó t·ªï ti√™n</li> 
                                <li>VƒÉn kh·∫•n c√∫ng r·∫±m th√°ng 7</li> 
                            </ul> 
                        </div> 
                        <div id="book-content-1" class="detail-content"> 
                            <h4 class="text-xl font-semibold mb-3 text-amber-800">Ph·∫ßn II: VƒÉn Kh·∫•n C√°c Ng√†y L·ªÖ T·∫øt</h4> 
                            <p class="text-gray-700 mb-2">Tuy·ªÉn t·∫≠p vƒÉn kh·∫•n cho c√°c d·ªãp l·ªÖ t·∫øt quan tr·ªçng trong nƒÉm, gi√∫p gia ƒë√¨nh c√∫ng l·ªÖ ƒë√∫ng nghi th·ª©c.</p> 
                            <ul class="list-disc list-inside text-gray-600 space-y-1 text-sm"> 
                                <li>VƒÉn kh·∫•n T·∫øt Nguy√™n ƒê√°n</li> 
                                <li>VƒÉn kh·∫•n T·∫øt Thanh Minh</li> 
                                <li>VƒÉn kh·∫•n T·∫øt Trung Thu</li> 
                                <li>VƒÉn kh·∫•n c√∫ng √¥ng C√¥ng √¥ng T√°o</li> 
                            </ul> 
                        </div> 
                        <div id="book-content-2" class="detail-content"> 
                            <h4 class="text-xl font-semibold mb-3 text-amber-800">Ph·∫ßn III: VƒÉn Kh·∫•n C√°c S·ª± Ki·ªán ƒê·∫∑c Bi·ªát</h4> 
                            <p class="text-gray-700 mb-2">C√°c b√†i vƒÉn kh·∫•n cho nh·ªØng d·ªãp ƒë·∫∑c bi·ªát trong ƒë·ªùi s·ªëng gia ƒë√¨nh nh∆∞ c∆∞·ªõi h·ªèi, nh·∫≠p tr·∫°ch, khai tr∆∞∆°ng...</p> 
                            <ul class="list-disc list-inside text-gray-600 space-y-1 text-sm"> 
                                <li>VƒÉn kh·∫•n l·ªÖ c∆∞·ªõi h·ªèi</li> 
                                <li>VƒÉn kh·∫•n nh·∫≠p tr·∫°ch, d·ªçn nh√† m·ªõi</li> 
                                <li>VƒÉn kh·∫•n khai tr∆∞∆°ng, m·ªü h√†ng</li> 
                                <li>VƒÉn kh·∫•n th√¥i n√¥i, ƒë·∫ßy th√°ng</li> 
                            </ul> 
                        </div> 
                        <div id="book-content-3" class="detail-content"> 
                            <h4 class="text-xl font-semibold mb-3 text-amber-800">Ph·∫ßn IV: Nghi Th·ª©c v√† C√°ch C√∫ng</h4> 
                            <p class="text-gray-700 mb-2">H∆∞·ªõng d·∫´n chi ti·∫øt c√°ch th·ª©c b√†y bi·ªán, nghi th·ª©c c√∫ng l·ªÖ v√† nh·ªØng ƒëi·ªÅu c·∫ßn l∆∞u √Ω khi th·ªù c√∫ng.</p> 
                            <ul class="list-disc list-inside text-gray-600 space-y-1 text-sm"> 
                                <li>C√°ch b√†y bi·ªán l·ªÖ v·∫≠t ƒë√∫ng c√°ch</li> 
                                <li>Th·ª© t·ª± nghi th·ª©c c√∫ng l·ªÖ</li> 
                                <li>C√°ch ch·ªçn ng√†y gi·ªù t·ªët</li> 
                                <li>Nh·ªØng ƒëi·ªÅu ki√™ng k·ªµ c·∫ßn tr√°nh</li> 
                            </ul> 
                        </div> 
                        <div id="book-content-4" class="detail-content"> 
                            <h4 class="text-xl font-semibold mb-3 text-amber-800">Ph·∫ßn V: Ph·ª• L·ª•c v√† T√†i Li·ªáu Tham Kh·∫£o</h4> 
                            <p class="text-gray-700 mb-2">C√°c t√†i li·ªáu b·ªï sung gi√∫p hi·ªÉu r√µ h∆°n v·ªÅ truy·ªÅn th·ªëng th·ªù c√∫ng v√† √Ω nghƒ©a vƒÉn h√≥a t√¢m linh.</p> 
                            <ul class="list-disc list-inside text-gray-600 space-y-1 text-sm"> 
                                <li>L·ªãch √¢m v√† c√°ch ƒë·ªçc l·ªãch</li> 
                                <li>√ù nghƒ©a c√°c lo·∫°i hoa qu·∫£ c√∫ng</li> 
                                <li>C√°ch trang tr√≠ b√†n th·ªù gia ti√™n</li> 
                                <li>Thu·∫≠t ng·ªØ v√† t·ª´ ƒëi·ªÉn th·ªù c√∫ng</li> 
                            </ul> 
                        </div> 
                    </div> 
                </div> 
                <div class="text-center mt-8"> 
                    <a href="#order-now" class="btn-primary text-lg font-bold py-3 px-8 rounded-full">ƒê·∫∑t Mua Ngay</a> 
                </div> 
            </div>
        </div>
    </section>

    <section class="py-16 px-4 bg-white">
        <div class="container mx-auto">
            <h2 class="text-3xl font-bold text-center mb-12 text-amber-900">KH√ÅCH H√ÄNG ƒê√ÅNH GI√Å</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="bg-gray-50 p-6 rounded-lg shadow-md border-l-4 border-amber-400">
                    <div class="flex mb-4 text-yellow-400"> <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i> </div>
                    <p class="italic text-gray-700 mb-4">"Cu·ªën s√°ch r·∫•t ƒë·∫ßy ƒë·ªß v√† chi ti·∫øt. Nh·ªù c√≥ s√°ch n√†y m√† gia ƒë√¨nh t√¥i c√≥ th·ªÉ c√∫ng l·ªÖ ƒë√∫ng nghi th·ª©c truy·ªÅn th·ªëng. C√°c b√†i vƒÉn kh·∫•n r·∫•t hay v√† trang tr·ªçng."</p>
                    <div class="flex items-center">
                        <img src="https://photo.znews.vn/w660/Uploaded/wyhktpu/2016_08_22/image005_1.jpg" alt="Kh√°ch h√†ng" class="testimonial-img">
                        <div>
                            <p class="font-medium text-amber-900">B√† Nguy·ªÖn Th·ªã Mai</p>
                            <p class="text-sm text-gray-600">62 tu·ªïi, H√† N·ªôi</p>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-50 p-6 rounded-lg shadow-md border-l-4 border-amber-400">
                    <div class="flex mb-4 text-yellow-400"> <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i> </div>
                    <p class="italic text-gray-700 mb-4">"S√°ch vi·∫øt r·∫•t d·ªÖ hi·ªÉu, ph√π h·ª£p cho c√°c gia ƒë√¨nh tr·∫ª nh∆∞ ch√∫ng t√¥i. Gi·ªù ƒë√¢y t√¥i t·ª± tin th·ªù c√∫ng t·ªï ti√™n ƒë√∫ng c√°ch m√† kh√¥ng ph·∫£i h·ªèi ng∆∞·ªùi l·ªõn."</p>
                    <div class="flex items-center">
                        <img src="https://pepsilan.com/wp-content/uploads/2022/12/full-bo-anh-dan-ong-trung-nien-viet-nam-dep-nhat-vn.jpg" alt="Kh√°ch h√†ng" class="testimonial-img">
                        <div>
                            <p class="font-medium text-amber-900">Anh Tr·∫ßn VƒÉn B√¨nh</p>
                            <p class="text-sm text-gray-600">35 tu·ªïi, TP.HCM</p>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-50 p-6 rounded-lg shadow-md border-l-4 border-amber-400">
                    <div class="flex mb-4 text-yellow-400"> <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i> </div>
                    <p class="italic text-gray-700 mb-4">"Cu·ªën s√°ch gi√° tr·ªã, n·ªôi dung phong ph√∫. T√¥i ƒë√£ mua t·∫∑ng cho c√°c con ƒë·ªÉ c√°c ch√°u hi·ªÉu v√† duy tr√¨ truy·ªÅn th·ªëng gia ƒë√¨nh. R·∫•t h√†i l√≤ng!"</p>
                    <div class="flex items-center">
                        <img src="https://pepsilan.com/wp-content/uploads/2022/12/full-bo-anh-dan-ong-trung-nien-viet-nam-dep-nhat-vn.png" alt="Kh√°ch h√†ng" class="testimonial-img">
                        <div>
                            <p class="font-medium text-amber-900">√îng L√™ VƒÉn Long</p>
                            <p class="text-sm text-gray-600">58 tu·ªïi, ƒê√† N·∫µng</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="order-now" class="py-16 px-4 bg-gradient-section scroll-mt-20">
        <div class="container mx-auto">
            <div class="bg-white p-6 md:p-8 rounded-xl shadow-xl max-w-4xl mx-auto">
                <h2 class="text-3xl font-bold text-center mb-8 text-amber-900">ƒê·∫∂T MUA NGAY - NH·∫¨N ∆ØU ƒê√ÉI ƒê·∫∂C BI·ªÜT</h2>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div> 
                        <h3 class="text-xl font-semibold mb-4 text-amber-800">Th√¥ng tin s·∫£n ph·∫©m:</h3> 
                        <div class="space-y-4 mb-6"> 
                            <div class="flex items-center border-2 border-amber-500 p-4 rounded-lg bg-amber-50"> 
                                <input type="radio" id="product" name="product" value="T·∫≠p vƒÉn c√∫ng gia ti√™n - 199.000ƒë (Mi·ªÖn ph√≠ v·∫≠n chuy·ªÉn)" class="mr-3 h-5 w-5 accent-amber-600 flex-shrink-0" checked> 
                                <label for="product" class="flex-1 cursor-pointer"> 
                                    <p class="font-medium">T·∫≠p VƒÉn C√∫ng Gia Ti√™n</p> 
                                    <p class="text-custom-red font-bold">199.000ƒë <span class="text-amber-600 ml-2 text-sm">üöö Mi·ªÖn ph√≠ v·∫≠n chuy·ªÉn</span></p> 
                                    <p class="text-sm text-gray-600">(Gi√° g·ªëc: 299.000ƒë - Ti·∫øt ki·ªám: 100.000ƒë)</p> 
                                </label> 
                            </div> 
                        </div> 
                        <h3 class="text-xl font-semibold mb-3 mt-6 text-amber-800">Cam k·∫øt ch·∫•t l∆∞·ª£ng:</h3> 
                        <ul class="space-y-2 text-gray-700 text-sm"> 
                            <li class="flex items-start"><i class="fas fa-check-circle text-amber-600 mt-1 mr-2 flex-shrink-0"></i><span>S√°ch in m√†u, b√¨a c·ª©ng, gi·∫•y cao c·∫•p, n·ªôi dung chu·∫©n x√°c</span></li> 
                            <li class="flex items-start"><i class="fas fa-truck text-amber-600 mt-1 mr-2 flex-shrink-0"></i><span>Giao h√†ng nhanh to√†n qu·ªëc (2-5 ng√†y)</span></li> 
                            <li class="flex items-start"><i class="fas fa-hand-holding-usd text-amber-600 mt-1 mr-2 flex-shrink-0"></i><span>Thanh to√°n khi nh·∫≠n h√†ng (COD), ƒë∆∞·ª£c ki·ªÉm tra tr∆∞·ªõc</span></li> 
                            <li class="flex items-start"><i class="fas fa-sync-alt text-amber-600 mt-1 mr-2 flex-shrink-0"></i><span>ƒê·ªïi tr·∫£ mi·ªÖn ph√≠ trong 7 ng√†y n·∫øu c√≥ l·ªói</span></li> 
                        </ul> 
                    </div>
                    <div> 
                        <h3 class="text-xl font-semibold mb-4 text-amber-800">Th√¥ng tin nh·∫≠n h√†ng:</h3> 
                        <form id="orderForm"> 
                            <input type="hidden" id="orderDate" name="date"> 
                            <div class="mb-4"> 
                                <label for="fullName" class="block mb-1 font-medium text-sm">H·ªç v√† t√™n <span class="text-red-500">*</span></label> 
                                <input type="text" id="fullName" name="name" placeholder="Nh·∫≠p h·ªç t√™n c·ªßa b·∫°n" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 text-sm" required> 
                            </div> 
                            <div class="mb-4"> 
                                <label for="phone" class="block mb-1 font-medium text-sm">S·ªë ƒëi·ªán tho·∫°i <span class="text-red-500">*</span></label> 
                                <input type="tel" id="phone" name="phone" placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i nh·∫≠n h√†ng" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 text-sm" required> 
                            </div> 
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"> 
                                <div> 
                                    <label for="city" class="block mb-1 font-medium text-sm">T·ªânh/Th√†nh ph·ªë <span class="text-red-500">*</span></label> 
                                    <select id="city" name="city" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 text-sm bg-white" required> 
                                        <option value="">Ch·ªçn T·ªânh/Th√†nh</option> 
                                    </select> 
                                </div> 
                                <div> 
                                    <label for="district" class="block mb-1 font-medium text-sm">Qu·∫≠n/Huy·ªán <span class="text-red-500">*</span></label> 
                                    <select id="district" name="district" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 text-sm bg-white" required> 
                                        <option value="">Ch·ªçn Qu·∫≠n/Huy·ªán</option> 
                                    </select> 
                                </div> 
                                <div> 
                                    <label for="ward" class="block mb-1 font-medium text-sm">Ph∆∞·ªùng/X√£ <span class="text-red-500">*</span></label> 
                                    <select id="ward" name="ward" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 text-sm bg-white" required> 
                                        <option value="">Ch·ªçn Ph∆∞·ªùng/X√£</option> 
                                    </select> 
                                </div> 
                            </div> 
                            <div class="mb-4"> 
                                <label for="addressDetail" class="block mb-1 font-medium text-sm">ƒê·ªãa ch·ªâ chi ti·∫øt <span class="text-red-500">*</span></label> 
                                <input type="text" id="addressDetail" name="addressDetail" placeholder="S·ªë nh√†, t√™n ƒë∆∞·ªùng..." class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 text-sm" required> 
                            </div> 
                            <div class="mb-6"> 
                                <label for="note" class="block mb-1 font-medium text-sm">Ghi ch√∫ (T√πy ch·ªçn)</label> 
                                <textarea id="note" name="note" rows="2" placeholder="Ghi ch√∫ v·ªÅ giao h√†ng..." class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 text-sm"></textarea> 
                            </div> 
                            <button type="submit" id="submitOrder" class="w-full btn-primary text-lg font-bold py-3 px-6 rounded-lg shadow-md flex items-center justify-center"> 
                                <i class="fas fa-shopping-cart mr-2"></i> ƒê·∫∂T H√ÄNG NGAY 
                            </button> 
                        </form> 
                    </div>
                </div>
                <div id="successMessage" class="mt-6 p-4 bg-green-100 border border-green-400 text-green-800 rounded-lg hidden success-animation"> 
                    <h3 class="text-xl font-bold mb-2"><i class="fas fa-check-circle mr-2"></i>ƒê·∫∑t h√†ng th√†nh c√¥ng!</h3> 
                    <p class="mb-2 text-sm">C·∫£m ∆°n b·∫°n ƒë√£ tin t∆∞·ªüng ƒë·∫∑t mua "T·∫≠p vƒÉn c√∫ng gia ti√™n". Ch√∫ng t√¥i s·∫Ω li√™n h·ªá v·ªõi b·∫°n trong v√≤ng 24 gi·ªù ƒë·ªÉ x√°c nh·∫≠n ƒë∆°n h√†ng.</p> 
                    <p class="text-sm">Hotline h·ªó tr·ª£: <span class="font-bold">0972.048.409</span></p> 
                </div>
            </div>
        </div>
    </section>

    <footer class="bg-amber-900 text-gray-300 py-10 px-4">
        <div class="container mx-auto"> 
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8"> 
                <div> 
                    <h3 class="text-xl font-bold mb-4 text-white">LI√äN H·ªÜ</h3> 
                    <ul class="space-y-2 text-sm"> 
                        <li class="flex items-start"><i class="fas fa-phone-alt mt-1 mr-3 text-yellow-300"></i><span>Hotline: <a href="tel:0972048409" class="hover:text-white">0972.048.409</a></span></li> 
                        <li class="flex items-start"><i class="fas fa-envelope mt-1 mr-3 text-yellow-300"></i><span>Email: <a href="mailto:info@tapvancung.vn" class="hover:text-white">info@tapvancung.vn</a></span></li> 
                        <li class="flex items-start"><i class="fas fa-map-marker-alt mt-1 mr-3 text-yellow-300"></i><span>ƒê·ªãa ch·ªâ: 123 ƒê∆∞·ªùng Truy·ªÅn Th·ªëng, Q.1, TP.HCM</span></li> 
                        <li class="flex items-start"><i class="fas fa-clock mt-1 mr-3 text-yellow-300"></i><span>Gi·ªù l√†m vi·ªác: 8h00 - 20h00 (T2 - CN)</span></li> 
                    </ul> 
                </div> 
                <div> 
                    <h3 class="text-xl font-bold mb-4 text-white">CH√çNH S√ÅCH</h3> 
                    <ul class="space-y-2 text-sm"> 
                        <li><a href="#" class="hover:text-white">Ch√≠nh s√°ch v·∫≠n chuy·ªÉn mi·ªÖn ph√≠</a></li> 
                        <li><a href="#" class="hover:text-white">Ch√≠nh s√°ch ƒë·ªïi tr·∫£ s·∫£n ph·∫©m</a></li> 
                        <li><a href="#" class="hover:text-white">Thanh to√°n khi nh·∫≠n h√†ng (COD)</a></li> 
                        <li><a href="#" class="hover:text-white">B·∫£o m·∫≠t th√¥ng tin kh√°ch h√†ng</a></li> 
                    </ul> 
                </div> 
                <div> 
                    <h3 class="text-xl font-bold mb-4 text-white">K·∫æT N·ªêI</h3> 
                    <div class="flex space-x-4 mb-4"> 
                        <a href="#" class="text-2xl hover:text-white"><i class="fab fa-facebook-square"></i></a> 
                        <a href="#" class="text-2xl hover:text-white"><i class="fab fa-youtube"></i></a> 
                        <a href="#" class="text-2xl hover:text-white"><i class="fab fa-zalo"></i></a> 
                    </div> 
                    <p class="text-sm mb-2">Nh·∫≠n th√¥ng tin ∆∞u ƒë√£i:</p> 
                    <form class="flex"> 
                        <input type="email" placeholder="Email c·ªßa b·∫°n" class="px-3 py-2 text-gray-800 rounded-l-md focus:outline-none w-full text-sm"> 
                        <button type="submit" class="bg-yellow-500 hover:bg-yellow-600 text-amber-900 px-4 py-2 rounded-r-md text-sm font-medium">ƒêƒÉng k√Ω</button> 
                    </form> 
                </div> 
            </div> 
            <div class="border-t border-amber-700 pt-6 text-center text-sm"> 
                <p>&copy; 2024 T·∫≠p VƒÉn C√∫ng Gia Ti√™n. B·∫£o l∆∞u m·ªçi quy·ªÅn.</p> 
                <p>N·ªôi dung s√°ch mang t√≠nh tham kh·∫£o, ph√π h·ª£p v·ªõi truy·ªÅn th·ªëng vƒÉn h√≥a Vi·ªát Nam.</p> 
            </div> 
        </div>
    </footer>

    <div id="recent-order-popup">
        <button class="close-btn" onclick="closePopup()">&times;</button>
        <p><i class="fas fa-check-circle text-green-500 mr-1"></i> <span id="popup-customer-name" class="customer-name">Ai ƒë√≥</span> ·ªü <span id="popup-location">ƒë√¢u ƒë√≥</span> v·ª´a ƒë·∫∑t mua <span id="popup-product">T·∫≠p vƒÉn c√∫ng gia ti√™n</span>.</p>
        <span id="popup-time" class="time-ago">v√†i gi√¢y tr∆∞·ªõc</span>
    </div>

    <script>
        // --- Book Detail Slider Logic ---
        const bookDetails = {
            book: { currentIndex: 0, totalSlides: 5, images: [
                "https://cdn1.fahasa.com/media/flashmagazine/images/page_images/tap_van_cung_gia_tien_van_khan_tai_nha/2023_10_30_15_17_33_6-390x510.jpg", 
                "https://cdn1.fahasa.com/media/flashmagazine/images/page_images/tap_van_cung_gia_tien_van_khan_nom_tai_nha_tai_ban/2022_05_25_10_17_33_1-390x510.png", 
                "https://cdn1.fahasa.com/media/flashmagazine/images/page_images/tap_van_cung_gia_tien_van_khan_tai_nha/2023_10_30_15_17_33_2-390x510.jpg?_gl=1*1em71eg*_ga*MjA5NDY1NjMwOC4xNzU0MzIxMzcz*_ga_D3YYPWQ9LN*czE3NTQ0ODkxOTgkbzIkZzAkdDE3NTQ0ODkxOTgkajYwJGwwJGgw*_gcl_au*MTgyNjE1NTc4My4xNzU0MzIxMzcy*_ga_460L9JMC2G*czE3NTQ0ODkxOTgkbzIkZzEkdDE3NTQ0ODkyMDIkajU2JGwwJGgxNTMxNjQwMzE.", 
                "https://cdn1.fahasa.com/media/flashmagazine/images/page_images/tap_van_cung_gia_tien_van_khan_tai_nha/2023_10_30_15_17_33_3-390x510.jpg", 
                "https://cdn1.fahasa.com/media/flashmagazine/images/page_images/tap_van_cung_gia_tien_van_khan_tai_nha/2023_10_30_15_17_33_4-390x510.jpg"
            ] }
        };
        
        function showDetailSlide(bookId, index) { 
            const details = bookDetails[bookId]; 
            if (!details) return; 
            details.currentIndex = (index + details.totalSlides) % details.totalSlides; 
            const imgElement = document.getElementById(`${bookId}-image`); 
            if(imgElement) { 
                imgElement.src = details.images[details.currentIndex]; 
                imgElement.alt = `Chi ti·∫øt t·∫≠p vƒÉn c√∫ng - ${details.currentIndex + 1}`; 
            } 
            const contentElements = document.querySelectorAll(`[id^="${bookId}-content-"]`); 
            contentElements.forEach(el => el.classList.remove('active')); 
            const currentContent = document.getElementById(`${bookId}-content-${details.currentIndex}`); 
            if (currentContent) { 
                currentContent.classList.add('active'); 
            } 
        }
        
        function changeDetailSlide(bookId, direction) { 
            const details = bookDetails[bookId]; 
            if (!details) return; 
            showDetailSlide(bookId, details.currentIndex + direction); 
        }

        // --- Countdown Timer Logic ---
        function startCountdown(duration, displayElement) {
            let timer = duration, days, hours, minutes, seconds;
            const interval = setInterval(function () {
                days = parseInt(timer / (60 * 60 * 24), 10);
                hours = parseInt((timer % (60 * 60 * 24)) / (60 * 60), 10);
                minutes = parseInt((timer % (60 * 60)) / 60, 10);
                seconds = parseInt(timer % 60, 10);

                days = days < 10 ? "0" + days : days;
                hours = hours < 10 ? "0" + hours : hours;
                minutes = minutes < 10 ? "0" + minutes : minutes;
                seconds = seconds < 10 ? "0" + seconds : seconds;

                displayElement.innerHTML = `<span>${days}</span>:<span>${hours}</span>:<span>${minutes}</span>:<span>${seconds}</span>`;

                if (--timer < 0) {
                    clearInterval(interval);
                    displayElement.innerHTML = "<span class='text-custom-red'>∆ØU ƒê√ÉI ƒê√É K·∫æT TH√öC!</span>";
                }
            }, 1000);
        }

        // --- Recent Order Popup Logic ---
        const popupElement = document.getElementById('recent-order-popup');
        const popupCustomerName = document.getElementById('popup-customer-name');
        const popupLocation = document.getElementById('popup-location');
        const popupProduct = document.getElementById('popup-product');
        const popupTime = document.getElementById('popup-time');
        let popupTimeout;

        const customerNames = ["B√† Nguy·ªÖn T. Mai", "√îng Tr·∫ßn V. B√¨nh", "Anh L√™ H. C∆∞·ªùng", "Ch·ªã Ph·∫°m T. Dung", "B√† Ho√†ng T. Em"];
        const locations = ["H√† N·ªôi", "TP. HCM", "ƒê√† N·∫µng", "H·∫£i Ph√≤ng", "C·∫ßn Th∆°", "Hu·∫ø", "Nha Trang"];
        const products = ["T·∫≠p vƒÉn c√∫ng gia ti√™n"];

        function showRecentOrderPopup() {
             if (!popupElement) return;
             if (popupTimeout) clearTimeout(popupTimeout);

            const randomName = customerNames[Math.floor(Math.random() * customerNames.length)];
            const randomLocation = locations[Math.floor(Math.random() * locations.length)];
            const randomProduct = products[Math.floor(Math.random() * products.length)];
            const randomMinutes = Math.floor(Math.random() * 15) + 1;

            if(popupCustomerName) popupCustomerName.textContent = randomName;
            if(popupLocation) popupLocation.textContent = randomLocation;
            if(popupProduct) popupProduct.textContent = randomProduct;
             if(popupTime) popupTime.textContent = `${randomMinutes} ph√∫t tr∆∞·ªõc`;

            popupElement.classList.add('show');

            popupTimeout = setTimeout(() => {
                popupElement.classList.remove('show');
            }, 6000);
        }

         function closePopup() {
             if (popupTimeout) clearTimeout(popupTimeout);
             if (popupElement) popupElement.classList.remove('show');
         }

        // --- Address Data Fetching and Population ---
        const citySelect = document.getElementById('city');
        const districtSelect = document.getElementById('district');
        const wardSelect = document.getElementById('ward');
        let addressData = [];
        
        async function fetchAddressData() { 
            const apiUrl = 'https://provinces.open-api.vn/api/?depth=3'; 
            try { 
                console.log("Fetching address data..."); 
                const response = await fetch(apiUrl); 
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`); 
                addressData = await response.json(); 
                console.log("Address data fetched successfully:", addressData.length, "cities"); 
                renderCityOptions(addressData); 
            } catch (error) { 
                console.error('Error loading address data:', error); 
                alert('Kh√¥ng th·ªÉ t·∫£i d·ªØ li·ªáu ƒë·ªãa ch·ªâ. Vui l√≤ng th·ª≠ l·∫°i sau.'); 
                fallbackToTextInputs(); 
            } 
        }
        
        function renderCityOptions(data) { 
            if (!citySelect) return; 
            citySelect.innerHTML = '<option value="">Ch·ªçn T·ªânh/Th√†nh ph·ªë</option>'; 
            data.sort((a, b) => a.name.localeCompare(b.name)); 
            data.forEach(city => { 
                const option = document.createElement('option'); 
                option.value = city.code; 
                option.textContent = city.name; 
                citySelect.appendChild(option); 
            }); 
            resetSelect(districtSelect, 'Ch·ªçn Qu·∫≠n/Huy·ªán'); 
            resetSelect(wardSelect, 'Ch·ªçn Ph∆∞·ªùng/X√£'); 
        }
        
        function renderDistrictOptions(cityCode) { 
            if (!districtSelect) return; 
            resetSelect(districtSelect, 'Ch·ªçn Qu·∫≠n/Huy·ªán'); 
            resetSelect(wardSelect, 'Ch·ªçn Ph∆∞·ªùng/X√£'); 
            const city = addressData.find(c => c.code == cityCode); 
            if (city && city.districts) { 
                city.districts.sort((a, b) => a.name.localeCompare(b.name)); 
                city.districts.forEach(district => { 
                    const option = document.createElement('option'); 
                    option.value = district.code; 
                    option.textContent = district.name; 
                    districtSelect.appendChild(option); 
                }); 
            } 
        }
        
        function renderWardOptions(cityCode, districtCode) { 
            if (!wardSelect) return; 
            resetSelect(wardSelect, 'Ch·ªçn Ph∆∞·ªùng/X√£'); 
            const city = addressData.find(c => c.code == cityCode); 
            const district = city?.districts.find(d => d.code == districtCode); 
            if (district && district.wards) { 
                district.wards.sort((a, b) => a.name.localeCompare(b.name)); 
                district.wards.forEach(ward => { 
                    const option = document.createElement('option'); 
                    option.value = ward.code; 
                    option.textContent = ward.name; 
                    wardSelect.appendChild(option); 
                }); 
            } 
        }
        
        function resetSelect(selectElement, defaultOptionText) { 
            if (selectElement) { 
                selectElement.innerHTML = `<option value="">${defaultOptionText}</option>`; 
            } 
        }
        
        if (citySelect) { 
            citySelect.addEventListener('change', function() { 
                renderDistrictOptions(this.value); 
            }); 
        }
        
        if (districtSelect) { 
            districtSelect.addEventListener('change', function() { 
                const selectedCityCode = citySelect.value; 
                renderWardOptions(selectedCityCode, this.value); 
            }); 
        }
        
        function fallbackToTextInputs() { 
            console.warn("Address dropdowns might not work correctly due to data loading failure."); 
        }

        // --- Form Submission Logic ---
        async function handleOrderSubmit(event) { 
            event.preventDefault(); 
            const submitBtn = document.getElementById('submitOrder'); 
            const originalBtnText = submitBtn.innerHTML; 
            submitBtn.disabled = true; 
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> ƒêANG X·ª¨ L√ù...'; 
            
            const formData = new FormData(event.target); 
            const name = formData.get('name'); 
            const phone = formData.get('phone'); 
            const cityText = citySelect.options[citySelect.selectedIndex]?.text || formData.get('city'); 
            const districtText = districtSelect.options[districtSelect.selectedIndex]?.text || formData.get('district'); 
            const wardText = wardSelect.options[wardSelect.selectedIndex]?.text || formData.get('ward'); 
            const addressDetail = formData.get('addressDetail'); 
            const note = formData.get('note') || ''; 
            const date = formData.get('date'); 
            
            const fullAddress = `${addressDetail}, ${wardText}, ${districtText}, ${cityText}`; 
            
            const apiData = { 
                date: date, 
                name: name, 
                phone: phone, 
                address: fullAddress, 
                don_hang: "T·∫≠p vƒÉn c√∫ng gia ti√™n - 199.000ƒë", 
                Note: note 
            }; 
            
            const sheetDbUrl = 'https://sheetdb.io/api/v1/su22l4ev0xct0'; 
            
            try { 
                const response = await fetch(sheetDbUrl, { 
                    method: 'POST', 
                    headers: { 
                        'Accept': 'application/json', 
                        'Content-Type': 'application/json' 
                    }, 
                    body: JSON.stringify({ data: [apiData] }) 
                }); 
                
                const result = await response.json(); 
                
                if (response.ok && result.created) { 
                    const successMessage = document.getElementById('successMessage'); 
                    if (successMessage) { 
                        successMessage.classList.remove('hidden'); 
                        successMessage.scrollIntoView({ behavior: 'smooth', block: 'center' }); 
                    } 
                    event.target.reset(); 
                    resetSelect(citySelect, 'Ch·ªçn T·ªânh/Th√†nh ph·ªë'); 
                    resetSelect(districtSelect, 'Ch·ªçn Qu·∫≠n/Huy·ªán'); 
                    resetSelect(wardSelect, 'Ch·ªçn Ph∆∞·ªùng/X√£'); 
                    fetchAddressData(); 
                } else { 
                    console.error('SheetDB Error:', result); 
                    alert(`C√≥ l·ªói x·∫£y ra khi g·ª≠i ƒë∆°n h√†ng: ${result.error || 'Vui l√≤ng th·ª≠ l·∫°i.'}`); 
                } 
            } catch (error) { 
                console.error('Error submitting order:', error); 
                alert('Kh√¥ng th·ªÉ k·∫øt n·ªëi ƒë·∫øn m√°y ch·ªß. Vui l√≤ng ki·ªÉm tra k·∫øt n·ªëi m·∫°ng v√† th·ª≠ l·∫°i!'); 
            } finally { 
                submitBtn.disabled = false; 
                submitBtn.innerHTML = originalBtnText; 
            } 
        }

        // --- Initialization on DOMContentLoaded ---
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize slider
            showDetailSlide('book', 0);

            // Set current date for form
            const now = new Date();
            const dateStr = `${now.getDate()}/${now.getMonth() + 1}/${now.getFullYear()}`;
            const orderDateInput = document.getElementById('orderDate');
            if(orderDateInput) orderDateInput.value = dateStr;

            // Fetch address data
            fetchAddressData();

            // Attach form submit listener
            const orderForm = document.getElementById('orderForm');
            if (orderForm) orderForm.addEventListener('submit', handleOrderSubmit);

            // Start Countdown Timer
            const countdownDisplay = document.getElementById('countdown-timer');
            if (countdownDisplay) {
                const now = new Date();
                const endOfDay = new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1, 0, 0, 0);
                const secondsUntilEndOfDay = Math.round((endOfDay.getTime() - now.getTime()) / 1000);
                if (secondsUntilEndOfDay > 0) {
                    startCountdown(secondsUntilEndOfDay, countdownDisplay);
                } else {
                     countdownDisplay.innerHTML = "<span class='text-custom-red'>∆ØU ƒê√ÉI ƒê√É K·∫æT TH√öC!</span>";
                }
            }

             // Start Recent Order Popup
             setTimeout(showRecentOrderPopup, 5000);
             setInterval(showRecentOrderPopup, 18000 + Math.random() * 7000);
        });
    </script>
</body>
</html>
